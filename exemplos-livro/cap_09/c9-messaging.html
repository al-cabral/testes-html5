<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="utf-8">
<title>Livro HTML5 do Maujor</title>
<link href="../estilos/main.css" rel="stylesheet" type="text/css">
<style>
iframe {
	width:600px;
	height:400px;
	}

</style>
<!-- code highlighter -->
<link type="text/css" rel="stylesheet" href="../estilos/shCore.css">
<link type="text/css" rel="stylesheet" href="../estilos/shThemeDefault.css">
<script src="../scripts/modernizr-1.6.min.js"></script>
<script src="../scripts/shCore.js"></script>
<script src="../scripts/shBrushJScript.js"></script>
<script src="../scripts/shBrushCss.js"></script>
<script src="../scripts/shBrushPhp.js"></script>
<script src="../scripts/shBrushPlain.js"></script>
<script src="../scripts/shBrushXml.js"></script>
<script>SyntaxHighlighter.config.clipboardSwf = "../scripts/clipboard.swf"; SyntaxHighlighter.all();</script> 
<!-- fim code highlighter -->
<script>
window.onload = function() {
	var objetoIframe = document.getElementsByTagName('iframe')[0]; 
	var btnEnviar = document.getElementsByTagName('button')[0];
		btnEnviar.onclick = function() { 
		var textoMensagem = document.getElementsByTagName('input')[0].value;
			if(textoMensagem == '') {
				alert('Digite a mensagem a ser enviada')
			}else{
			objetoIframe.contentWindow.postMessage(textoMensagem, 'http://maujor.com/');
			}
		}
}
</script>
</head>
<body>
<div id="tudo">
<header>
	<h1>Capítulo 9</h1>
	<h2>Web Messaging</h2>
</header>
<section>
		<p>Esta página está hospedada em http://livrohtml5.com.br a a seguir existe um iframe carregando<br>um arquivo hospedado no site http://maujor.com<p><label>Mensagem: <input type=text></label> 
<button type=button>Enviar mensagem</button></p>
<iframe src="http://maujor.com/messaging.html"></iframe>/<br>Digite uma mensagem no campo de texto a seguir e clique em Enviar mensagem.</p>

</section>
<section>
<p>Sugestões:</p>
	<ul>
		<li>Use tags HTML na sua mensagem. Por exemplo: &lt;h1>Texto da mensagem&lt;/h1></li>
		<li>Insira regra CSS como mensagem. Por exemplo: &lt;style>body{color:white; background:black;}&lt;/style> 
	</ul>
</section>
<footer>
<nav class="nav-arq" id="referencia">Arquivos exemplo: <a href="../cap_08/c8-indexedDB-ex1.html">&laquo; cap 08</a> | <a href="c9-json.html">próxima &raquo;</a></nav>
</footer>
</div>
</body>
</html>